!function(i,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(i=i||self).VuePingPong=t()}(this,function(){"use strict";function i(i,t,e){return Math.min(Math.max(i,t),e)}var t={name:"VuePingPong",props:{ballSize:{type:Number,default:24},ballSpeed:{type:Number,default:800},color:{type:String,default:"#000"},fps:{type:Number,default:60},paddleHeight:{type:Number,default:18},paddleWidth:{type:Number,default:82}},data:function(){return{ballDirection:3/8*Math.PI*2,ballOriginXRelative:0,ballOriginYRelative:0,paddle1OriginYRelative:0,paddle2OriginYRelative:0,sizeX:0,sizeY:0}},computed:{ballDirectionX:{get:function(){return Math.sin(this.ballDirection)},set:function(i){this.ballDirection=Math.atan2(i,this.ballDirectionY)}},ballDirectionY:{get:function(){return Math.cos(this.ballDirection)},set:function(i){this.ballDirection=Math.atan2(this.ballDirectionX,i)}},ballMovementX:function(){return this.ballSpeed*this.ballDirectionX},ballMovementY:function(){return this.ballSpeed*this.ballDirectionY},ballOriginX:{get:function(){return this.sizeX/2*(1+this.ballOriginXRelative)},set:function(i){this.ballOriginXRelative=i/(this.sizeX/2)-1}},ballOriginXMax:function(){return this.sizeX-this.ballOriginXMin},ballOriginXMin:function(){return this.ballRadius+this.paddleHeight},ballOriginY:{get:function(){return this.sizeY/2*(1+this.ballOriginYRelative)},set:function(i){this.ballOriginYRelative=i/(this.sizeY/2)-1}},ballOriginYMax:function(){return this.sizeY-this.ballOriginYMin},ballOriginYMin:function(){return this.ballRadius},ballRadius:function(){return this.ballSize/2},delta:function(){return 1/this.fps},interval:function(){return 1e3/this.fps},paddle1OriginX:function(){return this.paddleSizeX/2},paddle1OriginY:{get:function(){return this.sizeY/2*(1+this.paddle1OriginYRelative)},set:function(i){this.paddle1OriginYRelative=i/(this.sizeY/2)-1}},paddle1PositionX:function(){return this.paddle1OriginX-this.paddleSizeX/2},paddle1PositionY:function(){return this.paddle1OriginY-this.paddleSizeY/2},paddle2OriginX:function(){return this.sizeX-this.paddleSizeX/2},paddle2OriginY:{get:function(){return this.sizeY/2*(2+this.paddle2OriginYRelative)},set:function(i){this.paddle2OriginYRelative=i/(this.sizeY/2)-2}},paddle2PositionX:function(){return this.paddle2OriginX-this.paddleSizeX/2},paddle2PositionY:function(){return this.paddle2OriginY-this.paddleSizeY/2},paddleOriginYMax:function(){return this.sizeY-this.paddleOriginYMin},paddleOriginYMin:function(){return this.paddleSizeY/2},paddleSizeX:function(){return this.paddleHeight},paddleSizeY:function(){return this.paddleWidth}},methods:{redraw:function(){var i=this,t=i.$refs,e=i.ballOriginX,n=i.ballOriginY,l=i.ballRadius,a=i.color,r=i.paddle1PositionX,s=i.paddle1PositionY,d=i.paddle2PositionX,h=i.paddle2PositionY,o=i.paddleSizeX,u=i.paddleSizeY,g=t.canvas;if(g){var b=g.getContext("2d");b.clearRect(0,0,g.width,g.height),b.fillStyle=a,b.beginPath(),b.arc(e,n,l,0,2*Math.PI),b.fill(),b.beginPath(),b.rect(r,s,o,u),b.fill(),b.beginPath(),b.rect(d,h,o,u),b.fill()}},step:function(){for(this.ballOriginX+=this.delta*this.ballMovementX,this.ballOriginY+=this.delta*this.ballMovementY;;){var t=!0;if(this.ballOriginX<this.ballOriginXMin&&(this.ballOriginX=2*this.ballOriginXMin-this.ballOriginX,this.ballDirectionX*=-1,t=!1),this.ballOriginX>this.ballOriginXMax&&(this.ballOriginX=2*this.ballOriginXMax-this.ballOriginX,this.ballDirectionX*=-1,t=!1),this.ballOriginY<this.ballOriginYMin&&(this.ballOriginY=2*this.ballOriginYMin-this.ballOriginY,this.ballDirectionY*=-1,t=!1),this.ballOriginY>this.ballOriginYMax&&(this.ballOriginY=2*this.ballOriginYMax-this.ballOriginY,this.ballDirectionY*=-1,t=!1),t)break}this.ballMovementX<0?this.paddle1OriginY=i(this.ballOriginY,this.paddleOriginYMin,this.paddleOriginYMax):this.ballMovementX>0&&(this.paddle2OriginY=i(this.ballOriginY,this.paddleOriginYMin,this.paddleOriginYMax))},updateSize:function(){var i=this.$el,t=this.$refs.canvas;i&&t&&(this.sizeX=t.width=i.offsetWidth,this.sizeY=t.height=i.offsetHeight)}},mounted:function(){var i,t,e,n,l=this;this.updateSize(),this.redraw(),i=function(){if(l._isDestroyed)return!1;l.updateSize(),l.step(),l.redraw()},t=this.interval,(e=function(e){requestAnimationFrame(function(){!1!==i()&&setTimeout(e,t)})},n=function(){for(var i=[],t=arguments.length;t--;)i[t]=arguments[t];return e.call.apply(e,[this,n].concat(i))})()},render:function(i){return i("div",{style:{overflow:"hidden",position:"relative"}},[i("canvas",{style:{bottom:0,left:0,margin:"auto",position:"absolute",right:0,top:0},ref:"canvas"})])}};return"undefined"!=typeof window&&window.Vue&&window.Vue.component(t.name,t),t});
